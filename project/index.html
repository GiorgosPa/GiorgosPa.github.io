<!doctype html>
<html lang="en" ng-app="app">
<head>
  <meta charset="utf-8">
  <title>Project</title>
  <script type="text/javascript" src="../bower_components/d3/d3.js"></script>
  <style>

  .content{
    padding: 60px;
    padding-top: 10px;
    margin: 100px;
    margin-top: -5px;
  }

  #legend{
    position: absolute;
  }

  .tooltip{
    position: absolute;
    width: 300px;
    background-color: white;
  }

  #bronx{
    display: inline-block;
    width: 20px;
    height: 15px;
    background-color: #00FFFF;
  }

  #brooklyn{
    display: inline-block;
    width: 20px;
    height: 15px;
    background-color: #d84b2a;
  }

  #manhattan{
    display: inline-block;
    width: 20px;
    height: 15px;
    background-color: #7aa25c;
  }

  #queens{
    display: inline-block;
    height: 15px;
    width: 20px;
    background-color: #FFFF00;
  }

  body{
    margin: 0;
  }

  .banner{
    width:100%;
  }

  </style>
</head>
<body>
  <img class="banner" src="ny.jpg"/>

  <div class=content>
    <div class="introduction">
      <h2>Introduction</h2>
      <p>This website present an analysis on the new york open data set on <a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Motor-Vehicle-Collisions/h9gi-nx95">motor vehicle collisions</a>. General statistics of the dataset as well as machine learning methods are presented bellow. In more detail we present the distribution of the accidents over month and their evolution through time, an analysis of the most dangerous intersections, a predictor of the most dangerous locations according to the car you drive and the current time and a cluster analysis of the accidents location.</p>
    </div>
    <div class="statistics">
      <h2>Basic statistics</h2>
      <img style="margin: auto; display:block;" src="histogram_months.png" width="800px">
      <img style="margin: auto; display:block;" src="histogram_month_year.png" width="800px">
      <img style="margin: auto; display:block;" src="histogram time.png" width="800px">
    </div>
    <div class="intersections">
      <h2>Top 100 most dangerous intersections in New York</h2>
      <div id="vis">
        <div id="legend">
          <div id="bronx"></div> Bronx <br/>
          <div id="brooklyn"></div> Brooklyn <br/>
          <div id="manhattan"></div> Manhattan <br/>
          <div id="queens"></div> Queens
        </div>
      </div>
      <button id="accidents">accidents</button>
      <button id="killed">killed</button>
      <button id="injured">injured</button>
      <script type="text/javascript" src="bubbles.js"></script>
      <p>The most dangerous intersection is Tillary Street and Flatbush Avenue extension in Brooklyn with a total of 585 accidents. Most of the accidents occur in Manhattan, followed by Brooklyn, Bronx and Queens. </p>
    </div>
    <h2>Clusters of traffic accidents in New york</h2>
    <div class=title-wraper>
      <span class="buttons">
      <button id="k3" class=active onclick=knn_updateClusters(3)>K=3</button>
      <button id="k4" class=active onclick=knn_updateClusters(4)>K=4</button>
      <button id="k5" class=active onclick=knn_updateClusters(5)>K=5</button>
      </span>
    <div style="background-color: #4B5367; width: 1000px;" id="map"></div>
    <p>Appliying Kmeans-clustering to our dataset we found 4 different representative areas, this graph shows this areas and the amount of accidents in each</p>

    <script src="clustering.js"></script>
    <div class="trees">
      <h2>Dangerous areas</h2>
      <p>A decision tree classifier was trained to determine the dangerous locations (red area) for a given vehicle on a given time. For example bellow are shown the dangerous areas for a taxi driving at 15:00 and for a truck driving at 17:00.</p>
      <img style="margin: auto; display:block;" src="taxi.png" width="800px">
      <p style="margin: auto; display:block; font-size:13px; text-align: center;">Dangerous areas for a taxi driving at 15:00</p>
      <img style="margin: auto; display:block;" src="truck.png" width="800px">
      <p style="margin: auto; display:block; font-size:13px; text-align: center;">Dangerous areas for a truck driving at 17:00</p>
    </div>
  </div>
</body>
</html>